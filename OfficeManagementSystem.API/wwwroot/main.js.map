{
  "version": 3,
  "sources": ["src/app/app.component.ts", "src/app/app.html", "src/app/app-routing.module.ts", "src/app/services/auth.interceptor.ts", "src/app/app.module.ts", "src/main.ts"],
  "sourcesContent": ["import { Component, signal, OnInit } from '@angular/core';\r\nimport { TranslationService } from './services/translation.service';\r\nimport { LangService } from './services/lang.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.html',\r\n  styleUrl: './app.css',\r\n  standalone: false\r\n})\r\nexport class AppComponent implements OnInit {\r\n  protected readonly title = signal('echo-office');\r\n\r\n  constructor(\r\n    private translationService: TranslationService,\r\n    private langService: LangService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    // Initialize language and translations\r\n    const currentLang = this.langService.getCurrentLang();\r\n    this.translationService.loadTranslations(currentLang);\r\n  }\r\n}\r\n", "<router-outlet></router-outlet>\r\n", "import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    loadChildren: () => import('./components/layout/layout.module')\r\n      .then((m) => m.LayoutModule)\r\n  },\r\n  {\r\n    path: 'auth',\r\n    loadChildren: () => import('./components/auth/auth.module')\r\n      .then((m) => m.AuthModule)\r\n  },\r\n  {\r\n    path: '**',\r\n    loadChildren: () => import('./components/not-found/not-found-module')\r\n      .then((m) => m.NotFoundModule)\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n", "import { Injectable } from '@angular/core';\r\nimport { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n  intercept(req: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\r\n    // Skip adding token for auth endpoints\r\n    if (this.isAuthEndpoint(req.url)) {\r\n      return next.handle(req);\r\n    }\r\n\r\n    // Get token from localStorage - use exact key 'access_token'\r\n    let token = localStorage.getItem('access_token');\r\n    \r\n    // If no access_token, try other common keys as fallback\r\n    if (!token) {\r\n      token = localStorage.getItem('token') || \r\n              localStorage.getItem('authToken') || \r\n              localStorage.getItem('jwt') ||\r\n              localStorage.getItem('userToken');\r\n    }\r\n\r\n    if (token) {\r\n      // Trim spaces and ensure no duplicate \"Bearer \"\r\n      token = token.trim();\r\n      if (token.startsWith('Bearer ')) {\r\n        token = token.substring(7); // Remove \"Bearer \" prefix if present\r\n      }\r\n      \r\n      req = req.clone({\r\n        setHeaders: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n    }\r\n\r\n    return next.handle(req);\r\n  }\r\n\r\n  private isAuthEndpoint(url: string): boolean {\r\n    // Use exact path matching for auth endpoints\r\n    const authEndpoints = [\r\n      '/api/Auth/login',\r\n      '/api/Auth/reset-password',\r\n      '/api/Auth/change-password',\r\n      '/api/Auth/send-email-password',\r\n      '/api/Auth/logout'\r\n    ];\r\n    \r\n    return authEndpoints.some(endpoint => url.endsWith(endpoint));\r\n  }\r\n}\r\n", "import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AuthInterceptor } from './services/auth.interceptor';\r\nimport { AddPartner } from './components/partners/add-partner/add-partner';\r\nimport { EditPartner } from './components/partners/edit-partner/edit-partner';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    RouterModule,\r\n    AppRoutingModule\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: AuthInterceptor,\r\n      multi: true\r\n    }\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n", "import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],
  "mappings": "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",
  "names": []
}
